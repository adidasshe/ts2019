(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79383faf"],{"0d76":function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{attrs:{id:"map"}})},o=[],r=(i("28a5"),i("6b54"),function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"time"},[t._v(t._s(t.str))])}),n=[],e=(i("c5f6"),{name:"Timer",props:{total_time:{type:Number},restart:{type:Number}},data:function(){return{h:0,m:0,s:0,ms:0,timer:0,str:"00:00:00:00",times:0}},watch:{restart:{handler:function(t){1===t&&(this.stop(),this.start())}}},created:function(){this.times=this.total_time,this.timer=setInterval(this.startTimer,50)},methods:{startTimer:function(){this.ms=this.ms+50,this.ms>=1e3&&(this.ms=0,this.s=this.s+1),this.s>=60&&(this.s=0,this.m=this.m+1),this.m>=60&&(this.m=0,this.h=this.h+1),this.str=this.toDub(this.h)+":"+this.toDub(this.m)+":"+this.toDub(this.s)+":"+this.toDub1(this.ms);var t=this.s+60*this.m+3600*this.h;t===this.times&&(this.stop(),this.str=this.toDub(this.h)+":"+this.toDub(this.m)+":"+this.toDub(this.s))},toDub:function(t){return t<10?"0"+t:""+t},toDub1:function(t){return t/=10,0===t||5===t?"0"+t:t},stop:function(){clearInterval(this.timer)},start:function(){this.timer=setInterval(this.startTimer,50)}}}),l=e,h=(i("4f66"),i("2877")),u=Object(h["a"])(l,r,n,!1,null,"23925d44",null),c=u.exports,m=(i("b199"),i("2f62"),i("e11eb")),p=i.n(m),d=(i("6cc5"),i("213b"),i("a46e"),i("f164"),i("114c"),i("ed6f"),i("cb90")),f=i.n(d),b={data:function(){return{speed:2e3,coors:[[39.550339,116.114129],[39.560339,116.124229],[39.570339,116.134329],[39.600339,116.155329]],temp:{},total_time:0,task:null,points:null,task_id:null,target:null,source:null,restart:0,dialogFormVisible:!1,dialogVisible:!0,result:"",mapUrl:"http://openstreetmap/osm_tiles/{z}/{x}/{y}.png"}},components:{timer:c},mounted:function(){this.init()},methods:{init:function(){var t=this;this.task=this.$route.params.data,this.points=this.$route.params.points,this.task_id=this.$route.params.task_id,this.source=this.points.source,this.target=this.points.target;var s=p.a.map("map",{minZoom:3,maxZoom:18,center:[this.task[0][0].lat,this.task[0][0].lng],zoom:17,zoomControl:!1,attributionControl:!1,crs:p.a.CRS.EPSG3857});function i(t){p.a.popup().setLatLng(t.latlng).setContent("经纬度: "+t.latlng.toString()).openOn(s)}p.a.tileLayer(this.mapUrl,{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(s),s.on("click",i);var a=function(){var i=[];i[0]=[t.points.maxLat,t.points.maxLon],i[1]=[t.points.minLat,t.points.minLon],p.a.rectangle(i,{dashArray:5}).addTo(s)},o=function(){for(var i=t.points.dest,a=0;a<i.length;a++)p.a.circleMarker(i[a],{radius:10,color:"red",fillColor:"red",fillOpacity:1}).addTo(s)},r=function(){p.a.circleMarker(t.source.split(","),{radius:10,color:"blue",fillColor:"blue",fillOpacity:1}).addTo(s),p.a.circleMarker(t.target.split(","),{radius:10,color:"blue",fillColor:"blue",fillOpacity:1}).addTo(s)};null!=this.points.maxLat&&""!=this.points.maxLat?a():r(),o();var n=p.a.trackplayback(this.task,s,{targetOptions:{useImg:!0,imgUrl:f.a}}),e=p.a.trackplaybackcontrol(n);e.addTo(s),n.start();var l=p.a.Toolbar2.Action.extend({options:{toolbarIcon:{html:"查看任务结果",className:"ss",tooltip:"查看任务结果"}},addHooks:function(){t.getResult()}});new p.a.Toolbar2.Control({position:"topleft",actions:[l]}).addTo(s)},getResult:function(){this.$router.push({name:"result",params:{task_id:this.task_id}})}}},k=b,g=(i("ca2a"),Object(h["a"])(k,a,o,!1,null,null,null));s["default"]=g.exports},"40d6":function(t,s,i){},"4f66":function(t,s,i){"use strict";var a=i("a073"),o=i.n(a);o.a},a073:function(t,s,i){},ca2a:function(t,s,i){"use strict";var a=i("40d6"),o=i.n(a);o.a}}]);