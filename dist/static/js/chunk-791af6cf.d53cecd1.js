(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-791af6cf"],{6397:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII="},"6cc5":function(t,i,a){},"6f6f":function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAXCAYAAADUUxW8AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAdiaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0NSA3OS4xNjM0OTksIDIwMTgvMDgvMTMtMTY6NDA6MjIgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMTItMjNUMTU6MTQ6MjYrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMTItMjNUMTU6MTQ6MjYrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTEyLTIzVDE1OjE0OjI2KzA4OjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjRkNjQyZWM3LWJhY2QtZWQ0YS1iNDNlLTFmOWRkNDkzMzViMSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjRmNTgzMWI2LWY1OGQtZDI0OS1hNzBiLTU0YWQ3MjQ4ZTgxOCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjU1ZjA3ZmI3LTAzNzctODM0ZC1iM2VmLTFiOWI1ZTY1MjdkOSIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NTVmMDdmYjctMDM3Ny04MzRkLWIzZWYtMWI5YjVlNjUyN2Q5IiBzdEV2dDp3aGVuPSIyMDIwLTEyLTIzVDE1OjE0OjI2KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjRkNjQyZWM3LWJhY2QtZWQ0YS1iNDNlLTFmOWRkNDkzMzViMSIgc3RFdnQ6d2hlbj0iMjAyMC0xMi0yM1QxNToxNDoyNiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8cGhvdG9zaG9wOkRvY3VtZW50QW5jZXN0b3JzPiA8cmRmOkJhZz4gPHJkZjpsaT42QTc2NkE3QkEwNTMxRUY1MDBFNDg1RDYzMkY0NTcyQzwvcmRmOmxpPiA8cmRmOmxpPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDoxNzIwYTViMC04MTc1LTE4NGEtOWFmMS00Nzk3YTE4OTNiNTc8L3JkZjpsaT4gPHJkZjpsaT5hZG9iZTpkb2NpZDpwaG90b3Nob3A6MzY5NDFkMGItMjI1YS01MDQ4LWFjMzgtZTg5MjY3ZGU4NWJmPC9yZGY6bGk+IDxyZGY6bGk+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmVjN2Q5NTRmLWU2YWQtNGU0OS1hYTNhLTVkMGExZGYxZGIyODwvcmRmOmxpPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOkRvY3VtZW50QW5jZXN0b3JzPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlJuXV8AAAO7SURBVDhPTZRdTxxlFMfPzOzbzC7s22xBKEu6LV0QKBEvTLyBpdEoSWs0vdALjZq2n6DbxA8gemUaP4SlRu8MDVxYY28qLRhqKiVAo2jZt9l395WZefo/04V4kt/Mzs75P+c558xzJHppfPeAAAiDIFAB/98CVVAGddAFAjgvj4UREAdnwWnAC7Cx4DnYAwegCDpAsNANWHgezM6nUhcDwf4L8ZF4QJZI+uPx44bX6/1zbXVtDe83wQ7gBbouXHh7r4Dp5Pj4W+n0jdTp+Kgai8UkWQgqFAuRQt6IlUpl5dHDhxb8/gOciqngEgXnQ6HQfDqdXpxbmA/AJNXrJcXtIr+mUTgSdg0MDA6ur/9Wq9fqnAJHbsi4cOTo8PBwYvrCtN+ybHK5XKRBpKkaSbJCne4RzczMqMnkONdDBxpQWMzFgp8WCIXC8qnYKTLyBdra2qLfNzcpl8lQTNepP9gnKYrihy/jBTLnzAu4+vr65IODA7G09KW0/fQpGUaRotEI6TGdgoF+unr9Gul6lH05Vb5LfHEsquvavV/uyesbj8iyLRocGqCxiSQ1Wy1aubtCd5bvIB23r+fuGIu5gke7OzuVoaEhC22hfK5Amt9PmeeH9Nf+MySn0OTUpMjlctzzo57G5m074nq93spksvaV9z9QUnPzhFaRbdtUq9fp/v1fKZvL2tVqtfE/sWCxzQ+1Wk1UymW6fjNNr45PkGVZJNBnrnwikaClr7+iomGwr9kT27xt/k4FogiPx02VcsURNRoNh06ng+g18vl8JMuy49vjZdX4h9vjEW7k22o2SZIkZwGGX7Zbbep2usKnqhz5xI6rzd4S9zRfyDt/mKbpgJUIKVHm8FBCKifdYTt5QBTJtGwpgg+CLRwOEz5Z8ng8aGOUTMuUbMviHh+fROKCOTkgH3thISX29vdo+8kTmn1tFkFl2t3fpWajSZcuXxK3vrnFxTrJmS0BPo6Pxu+urK523n73HUFuRYyePSPCMd1xnJqaEusbG2YymfwZz5+BMeDibXPf2ihIs1Kr2hcXF2lyYpJUr0qRYJDOjY3Rex99SMVS0W61W9xnPo7ONOFtt0HJMIxnP/3wY+6Lz6+OXL59W251u061NeQssgXx7fJ3BaNg7LNvT+NMEj4lPH5eH4hG595we9+c/fQTvSYJl2XaFLRta3v5+9IDy3zwTzbD294Af4MGizl6PxgG58AI4AFxfAh4XnE0nl8c+V/AA9F0Sg7jBfiAh3rwFOXZxsYV5tFT6dEEqBPRCzSVi4kazMVVAAAAAElFTkSuQmCC"},a8b7:function(t,i){(function(){var t=L.Marker.prototype._initIcon,i=L.Marker.prototype._setPos,a="msTransform"===L.DomUtil.TRANSFORM;L.Marker.addInitHook((function(){var t=this.options.icon&&this.options.icon.options,i=t&&this.options.icon.options.iconAnchor;i&&(i=i[0]+"px "+i[1]+"px"),this.options.rotationOrigin=this.options.rotationOrigin||i||"center bottom",this.options.rotationAngle=this.options.rotationAngle||0,this.on("drag",(function(t){t.target._applyRotation()}))})),L.Marker.include({_initIcon:function(){t.call(this)},_setPos:function(t){i.call(this,t),this._applyRotation()},_applyRotation:function(){this.options.rotationAngle&&(this._icon.style[L.DomUtil.TRANSFORM+"Origin"]=this.options.rotationOrigin,a?this._icon.style[L.DomUtil.TRANSFORM]="rotate("+this.options.rotationAngle+"deg)":this._icon.style[L.DomUtil.TRANSFORM]+=" rotateZ("+this.options.rotationAngle+"deg)")},setRotationAngle:function(t){return this.options.rotationAngle=t,this.update(),this},setRotationOrigin:function(t){return this.options.rotationOrigin=t,this.update(),this}})})()},c067:function(t,i,a){"use strict";a.r(i);var n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"dialog"},[a("div",{attrs:{id:"map"}},[a("el-dialog",{staticStyle:{"margin-top":"27%","margin-left":"8%",width:"100%"},attrs:{visible:t.LogVisible,"close-on-click-modal":!1,"show-close":!1,modal:!1,width:"0"},on:{"update:visible":function(i){t.LogVisible=i}}},[t.LodingVisible?a("div",{staticClass:"main"},[a("div",{staticClass:"loding-text"},[a("div",{staticClass:"loading"},[t._v("\n            任务初始化中\n            "),a("span"),t._v(" "),a("span"),t._v(" "),a("span"),t._v(" "),a("span"),t._v(" "),a("span")])])]):t._e(),t._v(" "),a("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],ref:"scroll",staticClass:"infinite-list",staticStyle:{overflow:"auto"}},t._l(t.count,(function(i){return a("li",{ref:"li",refInFor:!0,staticClass:"infinite-list-item"},[t._v("\n          "+t._s(i)+"\n        ")])})),0)])],1)])},o=[],e=(a("28a5"),a("6b54"),a("b199")),s=a("e11eb"),l=a.n(s),r=(a("6cc5"),a("a8b7"),a("6397"),a("6f6f")),c=a.n(r),A=(a("e2b9"),{data:function(){return{progress:1,log:{},count:["任务日志"],data:null,temp:{},task_id:null,taskLogStatus:0,dialogFormVisible:!1,LodingVisible:!1,LogVisible:!1,initStatus:0,result:"",speed:1,mapUrl:"http://openstreetmap/osm_tiles/{z}/{x}/{y}.png"}},mounted:function(){var t=this;this.getTask(),this.init(),this.times=window.setInterval((function(){setTimeout(t.getTask,0)}),1e3*this.speed)},beforeDestroy:function(){clearInterval(this.times)},methods:{load:function(){var t=this;this.$nextTick((function(){var i=t.$refs.scroll;i.scrollTop=i.scrollHeight}))},init:function(){var t=this,i=l.a.map("map",{minZoom:3,maxZoom:18,center:[34.694,113.587],zoom:3,zoomControl:!1,attributionControl:!1,crs:l.a.CRS.EPSG3857});l.a.tileLayer(this.mapUrl,{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(i);var a=l.a.icon({iconUrl:c.a});function n(t){l.a.popup().setLatLng(t.latlng).setContent("经纬度: "+t.latlng.toString()).openOn(i)}l.a.Marker.prototype.options.icon=a,i.on("click",n);var o=this,e=function(){console.log("画框");var t=[];t[0]=[o.data.maxLat,o.data.maxLon],t[1]=[o.data.minLat,o.data.minLon],l.a.rectangle(t,{dashArray:5}).addTo(i),i.fitBounds(t)},s=function(){for(var t=o.data.dest,a=0;a<t.length;a++)l.a.circleMarker(t[a],{radius:10,color:"red",fillColor:"red",fillOpacity:1}).addTo(i)},r=function(){var t=[o.data.target.split(","),o.data.target.split(",")];l.a.circleMarker(o.data.source.split(","),{radius:10,color:"blue",fillColor:"blue",fillOpacity:1}).addTo(i),l.a.circleMarker(o.data.target.split(","),{radius:10,color:"blue",fillColor:"blue",fillOpacity:1}).addTo(i),i.fitBounds(t)},A=[],d=[],g=function(){if(null==t.data||"undefined"==t.data)console.log("未获取到仿真数据，请等待...");else{null!=o.data.maxLat&&""!=o.data.maxLat?e():r(),s(),A=t.data.coors;for(var a=0;a<A.length;a++){var n=l.a.marker(A[a],{}).addTo(i);d.push(n)}}},p=function(t,i,a,n){var o=a-t,e=n-i,s=Math.sqrt(Math.pow(o,2)+Math.pow(e,2)),l=o/s,r=Math.acos(l),c=180/(Math.PI/r);return e<0?c=-c:0==e&&o<0&&(c=180),c},u=[],h=[],m=function(){if(console.log("m",d),0==d.length)g();else for(var i=0;i<d.length;i++){u=d[i].getLatLng(),h=l.a.latLng(t.data.coors[i][0],t.data.coors[i][1]);var a=p(u.lat,u.lng,h.lat,h.lng);console.log("旧坐标：",u,"新坐标：",h,"弧度：",a),d[i].setRotationAngle(a),d[i].setLatLng(h)}},b=setInterval((function(){"finish"!=t.data.status?"/realTime"==o.$route.path?m():clearInterval(b):(t.getResult(),clearInterval(b))}),3*this.speed*1e3)},getTask:function(){var t=this;this.listLoading=!0,this.task_id=this.$route.params.task_id,this.LogVisible=!0;0===this.taskLogStatus?(this.LodingVisible=!0,Object(e["f"])(this.task_id).then((function(i){""!=i.data.log&&null!=i.data.log&&"undefined"!=i.data.log&&0===i.data.status&&(t.count.push(i.data.log),t.load()),0!=i.data.status&&(t.LodingVisible=!1,t.taskLogStatus=1)}))):Object(e["g"])(this.task_id).then((function(i){t.data=i.data,1e3===i.code?Object(e["d"])(t.task_id).then((function(i){t.LogVisible=!0;var a=i.data.log;""!=a&&null!=a&&"undefined"!=a&&(t.count.push(a),t.load())})):console.log(i.data.log)}))},getResult:function(){this.$router.push({name:"result",params:{task_id:this.task_id}})}}}),d=A,g=(a("dee3"),a("2877")),p=Object(g["a"])(d,n,o,!1,null,null,null);i["default"]=p.exports},dee3:function(t,i,a){"use strict";var n=a("e994"),o=a.n(n);o.a},e2b9:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC"},e994:function(t,i,a){}}]);